# PicMe - Claude Code 開発ガイドライン

このファイルはClaude Codeが必ず読み込む設定ファイルです。

## プロジェクト概要

- **プロジェクト名**: PicMe（ぴくみー）
- **説明**: クリエイター向けポートフォリオサイト生成サービス
- **技術スタック**: Next.js 15 + Spring Boot 3.x + PostgreSQL

## バージョン管理基準

### セマンティックバージョニング

```
vX.Y.Z
 │ │ └─ パッチ版（Z）: バグ修正のみ
 │ └─── マイナー版（Y）: 新機能追加（後方互換性あり）
 └───── メジャー版（X）: フェーズ完了または破壊的変更
```

### バージョンアップ基準

| 変更内容 | バージョン | 例 |
|---------|----------|-----|
| フェーズの最初の実装（基盤機能） | メジャー版 (X.0) | v3.0: Stripeバックエンド基盤 |
| 同フェーズ内の新機能追加 | マイナー版 (X.Y) | v3.1: フロントエンドUI追加 |
| バグ修正・軽微な改善 | パッチ版 (X.Y.Z) | v3.1.1: ボタン表示修正 |

### フェーズ対応表

| メジャー版 | フェーズ | 内容 |
|-----------|---------|------|
| v0.x | 環境構築 | 開発環境セットアップ |
| v1.x | MVP機能 | 基本機能（認証、プロフィール、作品、SNSリンク） |
| v2.x | 追加機能 | お知らせ、テーマ、カテゴリー・タグ |
| v3.x | 有料機能 | Stripe連携、プラン制限、AdSense |
| v4.x | 管理者機能 | 管理者認証・管理画面 |
| v5.x | テスト・デプロイ | テスト、セキュリティ監査、本番環境 |

## コミット基準

### コミットメッセージ形式

```
<type>(<scope>): <subject>

<body>（任意）

Co-Authored-By: Claude <name> <noreply@anthropic.com>
```

### Type（種類）

| Type | 説明 | バージョンへの影響 |
|------|------|------------------|
| `feat` | 新機能追加 | マイナー版またはメジャー版 |
| `fix` | バグ修正 | パッチ版 |
| `docs` | ドキュメント変更 | なし（リリースノートには記載） |
| `style` | フォーマット変更（動作に影響なし） | なし |
| `refactor` | リファクタリング | なし |
| `test` | テスト追加・修正 | なし |
| `chore` | ビルド・設定変更 | なし |

### Scope（スコープ）

| Scope | 説明 |
|-------|------|
| `backend` | バックエンド（Java/Spring Boot） |
| `frontend` | フロントエンド（Next.js/React） |
| `design` | デザイン・UI変更 |
| `db` | データベーススキーマ変更 |
| なし | 複数領域にまたがる変更 |

### コミットタイミング

- **機能単位でコミット**: 1つの論理的な変更を1コミットに
- **動作確認後にコミット**: ビルドエラーがない状態でコミット
- **関連ファイルをまとめる**: 1機能に関連するファイルは同一コミットに

### 例

```bash
# 新機能（マイナー版アップ対象）
feat(frontend): add subscription upgrade page

# バグ修正（パッチ版アップ対象）
fix(backend): fix null pointer in category limit check

# ドキュメント（バージョン変更なし）
docs: update progress - v3.1 complete
```

## ドキュメント更新ルール

### 変更時に必ず更新するファイル

1. **`docs/変更履歴.md`** - 機能追加・修正時
2. **`docs/進捗管理（タスク）.md`** - タスク完了時

### 変更履歴の記載形式

```markdown
## [vX.Y] - YYYY-MM-DD

### 追加（Added）
- 新機能の説明

### 変更（Changed）
- 変更内容

### 修正（Fixed）
- バグ修正
```

## 重要な注意事項

- バージョン表記は必ず `v` を付ける（v3.0, v3.1）
- 変更履歴は新しいバージョンを上に追記
- フェーズ内での追加機能は必ずマイナー版をインクリメント
- 日本語でコメント・ドキュメントを記載
