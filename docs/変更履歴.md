# PicMe - 変更履歴

すべての重要な変更をこのファイルに記載しています。

## バージョン表記方法

このプロジェクトはセマンティックバージョニング（[SemVer](http://semver.org/)）に従います。

- **メジャー版**: 大きな機能追加またはフェーズ完了（v1.0, v2.0, v3.0...）
- **マイナー版**: 新機能追加（v1.1, v1.2...）
- **パッチ版**: バグ修正（v1.0.1, v1.0.2...）

---

## [開発中 / Unreleased]

### 計画中の機能

- v3.0: サブスクリプション決済（Stripe連携）
- v3.0: プラン制限実装（表示/APIレベル）
- v3.0: Google AdSense広告表示
- v4.0: 管理者認証・管理画面
- v5.0: 総合テスト・セキュリティ監査
- v5.0: 本番環境デプロイ（Vercel/Railway）

---

## [v2.1.1] - 2026-01-28

### 修正（Fixed）

- **Hydration Mismatch 警告の抑制**
  - ブラウザ拡張機能（WOT等）によって注入される属性（`wotdisconnected`等）に起因するサーバー・クライアント間のHTML不一致警告を抑制するため、`layout.tsx` の `body` タグに `suppressHydrationWarning` を追加。

---

## [v2.1] - 2026-01-28

### 修正（Fixed）

- **Next.js 15 非同期 Params 対応**
  - `generateMetadata` および Client Component での `params` Promise アンラップ処理の実装。
  - インポート文の欠落による Runtime Error (`Loader2 is not defined`) の修正。

- **Docker コンテナ間通信（Networking）の改善**
  - Next.js サーバーサイドからバックエンドへのリクエストが `localhost` で失敗する問題を修正。
  - `INTERNAL_API_URL` 環境変数を導入し、`docker-compose` ネットワーク経由で `http://backend:8080` を参照するように変更。

---

## [v2.0] - 2026-01-28

### 追加（Added）

- **お知らせ・ブログ機能**
  - Post エンティティ・API実装
  - フロントエンドUI（B05画面）
  - マークダウン表示対応（Pro以上で編集機能予定）

- **テーマ・カスタマイズ機能**
  - 複数テーマプリセット実装
  - カラーピッカーUI実装（Pro以上）
  - フォント選択機能実装（Pro以上）
  - テーマプレビュー機能
  - テーマ適用・保存ロジック

- **カテゴリー・タグ機能**
  - Category・Tag エンティティ作成
  - カテゴリー・タグ管理API実装
  - フロントエンド管理画面（B05）
  - 作品フィルタリング機能
  - 公開ページでのカテゴリー・タグフィルター表示
  - タグクラウド表示

- **テスト仕様書**
  - Phase 1-3 総合テスト仕様書作成（271テストケース）
  - テスト成績記入用フォーマット設計

- **バージョン管理**
  - Phaseからバージョン表記（v0.1-v5.0）への統一
  - セマンティックバージョニング導入

### 変更（Changed）

- 進捗管理をPhase表記からVersion表記へ統一
- 画面設計進捗管理ドキュメントの表記統一
- セマンティックバージョニング採用

### 修正（Fixed）

- カテゴリー・タグの削除時の使用中チェック

### 削除（Removed）

- _なし_

### セキュリティ（Security）

- XSS対策（カテゴリー・タグ・投稿テキストのエスケープ）
- CSRF保護確認（各POSTエンドポイント）

---

## [v1.0] - 2026-01-22

### 追加（Added）

- **認証機能**
  - ユーザー登録・ログイン機能
  - JWT トークンベース認証
  - パスワードのハッシュ化（BCrypt）
  - トークンリフレッシュ機能
  - ログアウト機能

- **プロフィール機能**
  - ユーザープロフィール表示・編集
  - 表示名・自己紹介・アイコン管理
  - プロフィール画像アップロード（URL入力）

- **作品ギャラリー機能**
  - 作品CRUD操作
  - 作品画像アップロード
  - 作品並び替え機能
  - プラン別作品数制限（FREE: 5, STARTER: 20, PRO: 50, STUDIO: 200）

- **SNSリンク機能**
  - SNSリンク追加・編集・削除
  - 複数プラットフォーム対応（Twitter/X, Instagram, Pixiv など）
  - リンク表示順序管理

- **公開ページ機能**
  - ポートフォリオサイト公開機能（/@username形式）
  - OGPメタデータ自動生成
  - 画像遅延読み込み（Lazy Loading）
  - レスポンシブデザイン対応

- **ダッシュボード**
  - ユーザーダッシュボード UI
  - 統計情報表示（作品数など）
  - クイックアクション

- **開発環境**
  - Docker Compose セットアップ
  - PostgreSQL ローカル環境
  - Spring Boot 3.x バックエンド基盤
  - Next.js 15 フロントエンド基盤
  - TailwindCSS デザインシステム

### セキュリティ（Security）

- SQLインジェクション対策
- XSS対策（テキスト入力フィルタリング）
- CSRF保護（Spring Security設定）
- JWT検証とセッション管理

---

## [v0.1] - 2026-01-20

### 追加（Added）

- **プロジェクト初期化**
  - GitHub リポジトリ初期化
  - .gitignore ファイル設定
  - README.md 作成

- **フロントエンド環境**
  - Next.js 15 プロジェクト作成
  - TypeScript 設定
  - TailwindCSS 統合
  - アプリケーションフォルダ構成（app, components, lib）

- **バックエンド環境**
  - Spring Boot 3.x プロジェクト初期化
  - Maven ビルド設定
  - application.yml 基本設定
  - パッケージ構成（controller, service, repository）

- **データベース**
  - PostgreSQL 15 Docker イメージ設定
  - Docker Compose オーケストレーション
  - ローカル開発環境構築

- **ドキュメント**
  - 要件定義書作成
  - 基本設計書作成
  - 詳細設計書作成
  - 画面設計書作成
  - 進捗管理ドキュメント作成

---

## 変更ログ記入ガイドライン

新しいバージョンをリリースする際は、以下のセクションを追加してください：

```markdown
## [vX.Y.Z] - YYYY-MM-DD

### 追加（Added）
- 新機能の説明

### 変更（Changed）
- 既存機能の変更内容

### 修正（Fixed）
- バグ修正の説明

### 削除（Removed）
- 削除された機能

### セキュリティ（Security）
- セキュリティ関連の改善
```

### セクション説明

- **Added**: 新しい機能追加
- **Changed**: 既存機能の変更（後方互換性あり）
- **Deprecated**: 廃止予定機能
- **Removed**: 削除された機能
- **Fixed**: バグ修正
- **Security**: セキュリティ脆弱性修正

---

## リリーススケジュール（予定）

| バージョン | フェーズ | 目標期限 | ステータス |
|----------|---------|--------|----------|
| v0.1 | 環境構築 | 2026-01-20 | ✅ 完了 |
| v1.0 | MVP機能 | 2026-01-22 | ✅ 完了 |
| v2.0 | 追加機能 | 2026-01-28 | ✅ 完了 |
| v3.0 | 有料機能 | TBD | 🔄 進行中 |
| v4.0 | 管理者機能 | TBD | ⏳ 未着手 |
| v5.0 | テスト・デプロイ | TBD | ⏳ 未着手 |

---

## 更新情報

- **作成日**: 2026-01-28
- **最終更新**: 2026-01-28
- **管理者**: PicMe Development Team

---

*このファイルはセマンティックバージョニングの原則に従って更新されます。*
